<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CodeMirror: Haxe Code Snippets based on CodeMirror: XQuery Autocomplete Demo(by Angelo Zerr)</title>
    
    <!-- CodeMirror -->
    <link rel="stylesheet" href="codemirror/lib/codemirror.css">
    <script src="codemirror/lib/codemirror.js"></script>
    <script src="codemirror/addon/hint/show-hint.js"></script>
      <script src="codemirror/addon/edit/matchbrackets.js"></script>
	<script src="codemirror/addon/edit/closebrackets.js"></script>
<!--    <link rel="stylesheet" href="../../codemirror/doc/docs.css">-->
<!--    <link rel="stylesheet" href="../../codemirror/theme/xq-light.css">-->

	<!-- CodeMirror Extension -->    
  	<link rel="stylesheet" href="codemirror-extension/addon/hint/show-hint-eclipse.css">
  	<script src="codemirror-extension/addon/hint/show-context-info.js"></script>
  	<link rel="stylesheet" href="codemirror-extension/addon/hint/show-context-info.css">
	
  	<link rel="stylesheet" href="codemirror-extension/addon/hint/templates-hint.css">
  	<script src="codemirror-extension/addon/hint/templates-hint.js"></script>
  	
    <!-- CodeMirror-XQuery -->    
<!--    <script src="../addon/xquery-commons.js"></script>-->
    <script src="codemirror-xquery/addon/hint/xquery-hint.js"></script>
    <link rel="stylesheet" href="codemirror-xquery/addon/hint/xquery-hint.css">
    <script src="codemirror-xquery/addon/hint/xquery-templates.js"></script>
<!--    <script src="../mode/xquery/xquery.js"></script>	-->
    <script src="codemirror/mode/haxe/haxe.js"></script>	
      

    <style type="text/css">
      .CodeMirror {
        height:500px;
      }
    </style>    
  </head>
  <body>
    <h1>CodeMirror: XQuery Autocomplete demo</h1>

    <form><textarea id="code" name="code">
class Main
{
    
}
</textarea>
</form>

<p>Press <strong>ctrl-space, ':', '$'</strong> to activate autocompletion for variables (let, variable, for, module) and functions (<strong>oauth2:, map:,xdmp:</strong>). See
the code (<a href="../addon/hint/show-hint.js">here</a>
and <a href="../addon/hint/xquery/xquery-hint.js">here</a>) to figure out
how it works.</p>

    <script>
      
      // completion for xdmp module
      
      
      function passAndHint(cm) {
     	setTimeout(function() {cm.execCommand("autocomplete");}, 100);
      	return CodeMirror.Pass;
      }
          
      CodeMirror.commands.autocomplete = function(cm) {
        CodeMirror.showHint(cm, CodeMirror.xqueryHint);
      }
      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        lineNumbers: true,
        showCursorWhenSelecting:true,
        indentUnit: 4,
	    tabSize: 4,
        matchBrackets: true,
	    autoCloseBrackets: true,
        extraKeys: {
            "':'": passAndHint,
            "'$'": passAndHint,
            "Ctrl-Space": "autocomplete"
        }
      });
    </script>
  </body>
</html>
